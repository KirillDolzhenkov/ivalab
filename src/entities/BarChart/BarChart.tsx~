import React from 'react';
import { Column } from '@ant-design/charts';
import { useSelector } from 'react-redux';
import { selectExpensesByDay } from '../store/selectors/expensesSelectors';

const BarChart: React.FC = () => {
  const data = useSelector(selectExpensesByDay);

  const config = {
    data,
    xField: 'date',
    yField: 'value',
    columnWidthRatio: 0.8,
    label: {
      position: 'middle',
      style: {
        fill: '#FFFFFF',
        opacity: 0.6
      }
    },
    xAxis: {
      label: {
        autoHide: true,
        autoRotate: false
      }
    },
    meta: {
      value: { alias: 'Amount' },
      date: { alias: 'Date' }
    }
  };

  return <Column {...config} />;
};

export default BarChart;
